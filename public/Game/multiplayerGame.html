<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Game</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="./assets/img/f1_title_logo_22.png" rel="icon">
  <!--<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">-->

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/3772469bf7.js" crossorigin="anonymous"></script>

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top d-flex align-items-cente">
        <div class="container-fluid container-xl d-flex align-items-center justify-content-lg-between">
    
          <!--<h1 class="logo me-auto me-lg-0"><a href="index.html">Restaurantly</a></h1>-->
          <a href="index-2.html" class="logo me-auto me-lg-0"><img src="assets/img/Logo_2.png" alt="" class="img-fluid"></a>
          <script>
            function Signout() {
              sessionStorage.removeItem('user');
              localStorage.removeItem('user');
              localStorage.removeItem('keepLoggedIn');
              window.location = '/';
            }
          </script>
          <nav id="navbar" class="navbar order-last order-lg-0">
            <ul>
              <i class="fa-solid fa-wallet fa-1x" style="color: #cda45e;"></i>
              <li id="VirtualCurrency" style="color: #cda45e; margin-right: 200px; margin-left: 10px; font-size: 20px;" ></li>
              <li><i class = "fa-solid fa-user" id="UserName" style="color: #cda45e; margin-right: 200px;"></i></li>
              <li><button class="book-a-table-btn scrollto d-none d-lg-flex" onclick="Signout()">Sign Out</button></li>
            </ul>
            <script type = "module" src = "./assets/js/VirtualCurrency.js"></script>
            <script>
              const currentUser = JSON.parse(localStorage.getItem('user'));
              document.getElementById("UserName").innerText = currentUser;
            </script>
            <i class="bi bi-list mobile-nav-toggle"></i>
          </nav><!-- .navbar -->
    
    
        </div>
    </header><!-- End Header -->

  <body>
    <h4 class="card-title2" style="font-size: 24px; margin-left: 1%;" id = "MD-title">Multiplayer <i class="fa-solid fa-globe"></i></h4>

              <!--<div class = "col-new">
                  <div class = "multiCardOG">
                    <p class = "wordsinOG" style="display: inline-block; margin-top: 4px;">Participants:</p>
                    <p class = "wordsinOG" style="display: inline-block; margin-top: 4px; margin-left: 0%; color: #cda45e; font-size:40px;" id="numofP">1/5</p>
                    <p class = "wordsinOG">Pot Amount: 0.1</p>
                  </div>
                <table style="width: 70%">
                    <tr>
                      <th>Number of People</th>
                      <th>Name</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td id = 1>...</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td id = 2>...</td>
                    </tr>
                  <tr>
                      <td>3</td>
                      <td id = 3>...</td>
                  </tr>
                  <tr>
                      <td>4</td>
                      <td id = 4>...</td>
                  </tr>
                  <tr>
                      <td>5</td>
                      <td id = 5>...</td>
                  </tr>
                </table>
              </div>-->
              <div class="card4">
                <iframe style = "float:right; height: 100%; width : 50%"  src="chat_test.html" title="chat room"></iframe>
                <div class="card-body" style = 'width:500px'>
                  <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->
                  <h5 class = 'card-title'>Welcome to Mutliplayer!</h5>
                  <ul>
                    <li>Start off by drafting your race team</li>
                    <li>Choose from the 3 funding options</li>
                    <li>Follow the metamask prompt to fund your wallet</li>
                  </ul>
                </div>
              </div>
                  <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->

  </body>
  <!--<script type="module" src = "https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>-->
  <script type="module" src = "https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script type="module" src = "https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.10.1/firebase-app.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</script>
<div class="col-12" style = "margin-top: 150px">
  <!--JS FOR DRAFT SELECTION!-->
  <script type="module">
  const firebaseConfig = {
      apiKey: "AIzaSyBTE9LzXJdLd2-zQFCU9HlxevzanZRbQWg",
      authDomain: "f1cft-493d1.firebaseapp.com",
      databaseURL: "https://f1cft-493d1-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "f1cft-493d1",
      storageBucket: "f1cft-493d1.appspot.com",
      messagingSenderId: "414144945872",
      appId: "1:414144945872:web:4926d78a5a38ae78b908d5",
      measurementId: "G-WNE15MGBR0"
    };
    import {initializeApp} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
    import { getDatabase, ref, onValue, update, get, set} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js";
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    //START OF DRIVER DRAFT
    const drivers2 = ['albon', 'alonso', 'bottas', 'gasly', 'hamiliton', 'lafti', 'leclerc', 'magussen', 'norris', 'ocon', 'perez', 'ricardo', 'russell', 'sainz', 'schumacher', 'stroll', 'tsunoda', 'verstappen', 'vettel', 'zhou'];
    const dictt = {Albon: 'albon', Alonso: 'alonso', Bottas: 'bottas', Gasly: 'gasly', Hamiliton: 'hamiliton', Lafti: 'lafti', Leclerc: 'leclerc', Magussen: 'magussen', Norris: 'norris', Ocon: 'ocon', Perez:'perez', Ricardo:'ricardo', Russell:'russell', Sainz: 'sainz', Schumacher:'schumacher', Stroll:'stroll', Tsunoda:'tsunoda', Verstappen:'verstappen', Vettel:'vettel', Zhou:'zhou'};
    const pid = [d1, d2];
    const pid2 = ['d1', 'd2']
    const mapping = {}
    const mapping_dupe = {}
    const mapping_b = {}
    const mapping_dupe_b = {}
    const btns = ['b1', 'b2']
    const btns2 = ['b5', 'b6']

    const btns_d = ['b9', 'b10']
    const btns_d2 = ['b13', 'b14']

    const pid22 = [d12, d22]
    const pid222 = ['d12', 'd22']

    const Usr = JSON.parse(localStorage.getItem('usr'));
    const starCountRef = ref(db, 'users/' + Usr.uid);
    var c = 0
    var countt = 0
    
    get(starCountRef).then((snapshot) => {
        const data = snapshot.val();
        //titledraft.innerText = data['drafted'] + '/2  drivers';
        //titledraft2.innerText = data['draftedCars'] +'/2  cars'

            if (data['driverCount'] > 0){
          var li = data['drivers'];
          console.log(li);
          for (var dd in li){
            if (dd != 'nil'){
              mapping[btns[c]] = dd
              mapping_dupe[btns2[c]] = dd
              mapping_b[btns_d[c]] = dd 
              mapping_dupe_b[btns_d2[c]] = dd
              pid[c].innerHTML = '<img src="assets/img/drivers/' + dictt[dd]  + '.jpg" class="special"> ' +  dd + '<button class="draftbtn" id='+ btns[c] +'>Draft</button>' + '<button class="benchbtn" id='+ btns_d[c] +'>Bench</button>';
              pid22[c].innerHTML = '<img src="assets/img/drivers/' + dictt[dd]  + '.jpg" class="special"> ' +  dd + '<button class="draftbtn" id='+ btns2[c] +'>Draft</button>' + '<button class="benchbtn" id='+ btns_d2[c] +'>Bench</button>';


              c++;
            }
          }
          console.log(mapping)
          console.log(mapping_b)
          localStorage.setItem('mapping', JSON.stringify(mapping))
          localStorage.setItem('mapping_dupe', JSON.stringify(mapping_dupe))
          localStorage.setItem('mapping_b', JSON.stringify(mapping_b))
          localStorage.setItem('mapping_dupe_b', JSON.stringify(mapping_dupe_b))

          //START OF DRIVER DRAFT JS CODE
          //TO RE-IMPLEMENT DRAFTING REPLACE INNERHTML WITH '<img src="assets/img/drivers/' + dictt[dd]  + '.jpg" class="special"> ' +  dd + '<button class="book-a-table-btn scrollto d-none d-lg-flex" id='+ pid[c] +'>Draft</button>'

          //END OF DRIVER DRAFT JS CODE
        }
      })

    get(starCountRef).then((snapshot) => {             
      const data = snapshot.val();
    const cid = [c1, c2];
    const cid2 = ['c1', 'c2']
    const cars = ["RedBull2022", "Ferrari2022", "Mercedes2022", "Mclaren2022", "AlfaRomeo2022", "AlphaTauri2022", "Alpine2022", "AstonMartin2022", "Haas2022", "Williams2022"];
    const dictt2 = {'Red Bull 2022': 'RedBull', 'Ferrari 2022': 'Ferrari', 'Mercedes 2022': 'Mercedes', 'Mclaren 2022': 'Mclaren', 'Alfa Romeo 2022': 'AlfaRomeo','Alpha Tauri 2022':'AlphaTauri', 'Alpine 2022': 'Alpine','Aston Martin 2022':'AstonMartin', 'Haas 2022':'Haas','Williams 2022':'Williams' }                
    const mapping2 = {}
    const mapping2_dupe = {}
    const mapping2_b = {}
    const mapping2_dupe_b = {}
    const btns = ['b3', 'b4']
    const btns2 = ['b7', 'b8']
    const btns_d = ['b11', 'b12']
    const btns_d2 = ['b15', 'b16']


    const cid22 = [c12, c22]
    const cid222 = ['c12', 'c22']

    var c = 0;
    if (data['carCount'] > 0){
      var li2 = data['cars'];
      for (var cc in li2){
            if (cc != 'nil'){
              mapping2[btns[c]] = cc
              mapping2_dupe[btns2[c]] = cc
              mapping2_b[btns_d[c]] = cc 
              mapping2_dupe_b[btns_d2[c]] = cc

              cid[c].innerHTML = '<img src="assets/img/' + dictt2[cc]  + '.png" class="special"> ' +  cc + '<button class="draftbtn" id='+ btns[c] +'>Draft</button>' + '<button class="benchbtn" id='+ btns_d[c] +'>Bench</button>';
              cid22[c].innerHTML = '<img src="assets/img/' + dictt2[cc]  + '.png" class="special"> ' +  cc + '<button class="draftbtn" id='+ btns2[c] +'>Draft</button>' + '<button class="benchbtn" id='+ btns_d2[c] +'>Bench</button>';

              c++;
            }
          }
      console.log(mapping2_b);
      localStorage.setItem('mapping2', JSON.stringify(mapping2))
      localStorage.setItem('mapping2_dupe', JSON.stringify(mapping2_dupe))
      localStorage.setItem('mapping2_b', JSON.stringify(mapping2_b))
      localStorage.setItem('mapping2_dupe_b', JSON.stringify(mapping2_dupe_b))
      //START OF CAR DRAFTING JS CODE 
      //TO RE-IMPLEMENT DRAFTING, REPLACE INNERHTML WITH '<img src="assets/img/' + dictt2[cc]  + '.png" class="special"> ' +  cc + '<button class="book-a-table-btn scrollto d-none d-lg-flex" id='+ cid[c] +'>Draft</button>'

      //END OF CAR DRAFTING JS CODE             
    }
  })

  get(starCountRef).then((snapshot) => {
    const data = snapshot.val();
    const mapping = JSON.parse(localStorage.getItem('mapping'));
    const mapping_dupe = JSON.parse(localStorage.getItem('mapping_dupe'))
    const mapping2_dupe = JSON.parse(localStorage.getItem('mapping2_dupe'))
    const mapping2 = JSON.parse(localStorage.getItem('mapping2'))
    const mapping_b = JSON.parse(localStorage.getItem('mapping_b'))
    const mapping_dupe_b = JSON.parse(localStorage.getItem('mapping_dupe_b'))
    const mapping2_b = JSON.parse(localStorage.getItem('mapping2_b'))
    const mapping2_dupe_b = JSON.parse(localStorage.getItem('mapping2_dupe_b'))

    const pair1 = [d1, d2, c1, c2]
    const pair1s = ['d1', 'd2', 'c1', 'c2']
    const pair2 = [d12,d22, c12, c22]
    const pair2s = ['d12', 'd22', 'c12', 'c22']
    const mapping_combi = Object.assign({}, mapping, mapping2)
    const mapping_combi_dupe = Object.assign({}, mapping_dupe, mapping2_dupe)
    const mapping_combi_b = Object.assign({}, mapping_b, mapping2_b)
    const mapping_combi_dupe_b = Object.assign({}, mapping_dupe_b, mapping2_dupe_b)
    var p1DCount = data['poneD'];
    var p1CCount = data['poneC'];
    const btns1 = [b1, b2,b3,b4, b5, b6,b7,b8]
    const btns1s = ['b1', 'b2', 'b3', 'b4']
    const btns2 = [b5, b6,b7,b8]
    const btns2s = ['b5', 'b6', 'b7', 'b8']

    const btns_b1s = ['b9','b10', 'b11', 'b12']
    const btns_b2s = ['b13', 'b14' ,'b15' ,'b16']

    var p2DCount = data['ptwoD'];
    var p2CCount = data['ptwoC'];

    const carimg = {'Alfa Romeo 2022': 'AlfaRomeo', 'Alpha Tauri 2022': 'AlphaTauri', 'Alpine 2022': 'Alpine', 'Aston Martin 2022': 'AstonMartin', 'Ferrari 2022': 'Ferrari', 'Haas 2022': 'Haas', 'Mclaren 2022': 'Mclaren', 'Mercedes 2022': 'Mercedes', 'Red Bull 2022': 'RedBull', 'Williams 2022': 'Williams'}
    
    function lineup_display(){
      for (var elem in data['pair1']){
        if ( elem.indexOf(' ') >= 0){
          document.getElementById('car1').innerHTML = '<img  src="assets/img/' + carimg[elem]  + '.png" class="special"> '
        }
        else if (elem != 'nil'){
          document.getElementById('driver1').innerHTML = '<img  src="assets/img/drivers/' +elem.toLowerCase()  + '.jpg" class="special"> '
        }
      }
      for (var elem in data['pair2']){
        if ( elem.indexOf(' ') >= 0){
          document.getElementById('car2').innerHTML = '<img  src="assets/img/' + carimg[elem]  + '.png" class="special"> '
        }
        else if (elem != 'nil'){
          document.getElementById('driver2').innerHTML = '<img  src="assets/img/drivers/' +elem.toLowerCase()  + '.jpg" class="special"> '
        }
      }}
    

    function clear_lineup_display(btn_id){
      const hashy = {'b9': 'driver1', 'b10':'driver1', 'b11':'car1', 'b12': 'car1', 'b13': 'driver2', 'b14': 'driver2' ,'b15':'car2' ,'b16':'car2'}
      document.getElementById(hashy[btn_id]).innerHTML = '<div></div>'
    }

    function cfmation(){
      if ((p2DCount == 1 && p2CCount == 1) && (p1CCount == 1 && p1DCount == 1)){
        //document.getElementById('cfmation').innerHTML = "<a href = './waitingRoom.html' class = 'btntoproceed' id = 'cfmation2'>Confirm</a>"
      }
      else{
        console.log('B')
        document.getElementById('cfmation').innerHTML = "<a href = '#' class = 'btntoproceed'>Confirm</a>"
      }
    }
    
    lineup_display()
    cfmation()
  
    


    
    for (var i = 0;i < 4;i++){
        (function() {
              const elementt = btns1s[i]
              const elementt2 = btns2s[i]

              btns1[i].addEventListener('click', (e) => { 
                
                if (mapping_combi[elementt] in data['drivers']){
                  if (mapping_combi[elementt] in data['pair2']){
                    alert("Driver has already been drafted in Pair 2")
                  }

                  if (p1DCount == 1){
                    alert("Pair 1 already has a driver")
                  }

                  else{
                    p1DCount += 1 
                    var old = data['pair1']
                    old[mapping_combi[elementt]] = 1 
                    update(ref(db, 'users/' + Usr.uid), {
                      'pair1': old,
                      'poneD': p1DCount
                    })
                    console.log("this is poneD: "+ p1DCount)
                    lineup_display()
                    cfmation()
                    var buttonz = document.getElementById(elementt);
                    buttonz.style.opacity = 0.5;

                    var buttonz2 = document.getElementById(elementt2);
                    buttonz2.style.opacity = 0.5;
                  }
                }

                if (mapping_combi[elementt] in data['cars']){
                  if (mapping_combi[elementt] in data['pair2']){
                    alert("Car has already been drafted in Pair 2")
                  }

                  else if (p1CCount == 1){
                    alert("Pair 1 already has a car")
                  }

                  else{
                    p1CCount += 1 
                    var old = data['pair1']
                    old[mapping_combi[elementt]] = 1 
                    update(ref(db, 'users/' + Usr.uid), {
                      'pair1': old,
                      'poneC': p1CCount
                    })

                    //console.log('<img src="assets/img/' + carimg[mapping_combi[elementt]]  + '.png" class="special"> ')
                    lineup_display()
                    cfmation()
                    var buttonz = document.getElementById(elementt);
                    console.log(buttonz);
                    buttonz.style.opacity = 0.5;

                    var buttonz2 = document.getElementById(elementt2);
                    console.log(buttonz2);
                    buttonz2.style.opacity = 0.5;



                  }
                }
              

              })
              


            }())//FUNCTION 
              }//FIRST FOR LOOP
              for (var i = 0;i < 4;i++){
        (function() {
              const elementt = btns2s[i]
              const elementt2 = btns1s[i]
              btns2[i].addEventListener('click', (e) => {
                if (mapping_combi_dupe[elementt] in data['drivers']){
                  if (mapping_combi_dupe[elementt] in data['pair1']){
                    alert("Driver has already been drafted in Pair 1")
                  }

                  else if (p2DCount == 1){
                    alert("Pair 2 already has a driver")
                  }

                  else{
                    p2DCount += 1 
                    var old = data['pair2']
                    old[mapping_combi_dupe[elementt]] = 1 
                    update(ref(db, 'users/' + Usr.uid), {
                      'pair2': old,
                      'ptwoD': p2DCount
                    })
                    lineup_display()
                    cfmation()
                    var buttonz = document.getElementById(elementt);
                    console.log(buttonz);
                    buttonz.style.opacity = 0.5;

                    var buttonz2 = document.getElementById(elementt2);
                    console.log(buttonz2);
                    buttonz2.style.opacity = 0.5;

                  }
                }

                if (mapping_combi_dupe[elementt] in data['cars']){
                  if (mapping_combi_dupe[elementt] in data['pair1']){
                    alert("Car has already been drafted in Pair 1")
                  }

                  else if (p2CCount == 1){
                    alert("Pair 2 already has a car")
                  }

                  else{
                    p2CCount += 1 
                    var old = data['pair2']
                    old[mapping_combi_dupe[elementt]] = 1 
                    update(ref(db, 'users/' + Usr.uid), {
                      'pair2': old,
                      'ptwoC': p2CCount
                    })
                    lineup_display()
                    cfmation()
                    var buttonz = document.getElementById(elementt);
                    console.log(buttonz);
                    buttonz.style.opacity = 0.5;

                    var buttonz2 = document.getElementById(elementt2);
                    console.log(buttonz2);
                    buttonz2.style.opacity = 0.5;

                  }
                }
              

              })
              


            }())//SECOND FUNCTION 
              }//SECOND FOR LOOP
              for (var i = 0 ;i < 4;i++){
                (function(){
                  const elementt = btns_b1s[i]
                  document.getElementById(btns_b1s[i]).addEventListener('click', (e) => {
                    if (mapping_combi_b[elementt] in data['drivers']){
                      if (mapping_combi_b[elementt] in data['pair1']){
                        var old = data['pair1']
                        delete old[mapping_combi_b[elementt]]
                        update(ref(db, 'users/' + Usr.uid), {
                          'pair1': old,
                          'poneD': 0
                        })
                        p1DCount = 0
                        alert('Driver Benched')
                        clear_lineup_display(elementt)
                        cfmation()
                      }
                      else{
                        alert("Draft before benching driver")
                      }
                    }//if in drivers

                    else if (mapping_combi_b[elementt] in data['cars']){
                      if (mapping_combi_b[elementt] in data['pair1']){
                        var old = data['pair1']
                        delete old[mapping_combi_b[elementt]]
                        update(ref(db, 'users/' + Usr.uid), {
                          'pair1': old,
                          'poneC': 0
                        })
                        p1CCount = 0
                        alert('Car Benched')
                        clear_lineup_display(elementt)
                        cfmation()
                      }
                      else{
                        alert("Draft before benching car")
                      }
                    }

                  })//end of event listener
                }())//end of closure function
              }//third for loop

              for (var i = 0 ;i < 4;i++){
                (function(){
                  const elementt = btns_b2s[i]
                  document.getElementById(btns_b2s[i]).addEventListener('click', (e) => {
                    if (mapping_combi_dupe_b[elementt] in data['drivers']){
                      if (mapping_combi_dupe_b[elementt] in data['pair2']){
                        var old = data['pair2']
                        delete old[mapping_combi_dupe_b[elementt]]
                        update(ref(db, 'users/' + Usr.uid), {
                          'pair2': old,
                          'ptwoD': 0
                        })
                        p2DCount = 0
                        alert('Driver Benched')
                        clear_lineup_display(elementt)
                        cfmation()
                        

                      }
                      else{
                        alert("Draft before benching driver")
                      }
                    }//if in drivers

                    else if (mapping_combi_dupe_b[elementt] in data['cars']){
                      if (mapping_combi_dupe_b[elementt] in data['pair2']){
                        var old = data['pair2']
                        delete old[mapping_combi_dupe_b[elementt]]
                        update(ref(db, 'users/' + Usr.uid), {
                          'pair2': old,
                          'ptwoC': 0
                        })
                        p2CCount = 0
                        alert('Car Benched')
                        clear_lineup_display(elementt)
                        cfmation()
                      }
                      else{
                        alert("Draft before benching car")
                      }
                    }

                  })//end of event listener
                }())//end of closure function
              }//third for loop
            
            })// SNAPSHOT

            document.getElementById('cfmation').addEventListener('click', () => {
      Swal.fire({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#50C878',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Confirm!'
      }).then((result) => {
        get(starCountRef).then((snapshot) => {
          const data = snapshot.val()
          var p2DCount = data['ptwoD'];
          var p2CCount = data['ptwoC'];
          var p1DCount = data['poneD'];
          var p1CCount = data['poneC'];
          
          if ((p2DCount == 1 && p2CCount == 1) && (p1CCount == 1 && p1DCount == 1) && (result.isConfirmed)){
          window.location.href = "./waitingRoom.html"
      }
        else {
          alert("Draft incomplete")
        }

        })
      })
    })//SWAL command
  

  </script>



  <h4 class="card-title2" style="font-size: 24px; margin-left: 1%;" id = "MD-title">My Draft<i class="fa-solid fa-circle-info"></i><span id="tooltiptext">Allocate 1 Driver and 1 Car per pair with 'Draft'<br>Undo Draft action with the 'Bench'</span></h4>
    
  
  <!-- PAIR ONE SELECTION -->
  <div class="draftheader">Pair 1</div>
  <div class = 'draftheader' >Pair 2</div>
  <div class="card">

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->
      <h5 class = 'card-title'>Driver 1</h5>
      <p id = 'd1'><button id = 'b1'></button></p>
    </div>

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->
      <h5 class = 'card-title'>Driver 2</h5>
      <p id = 'd2'><button id = 'b2'></button></p>
    </div>

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft2">0/2 Cars</h5>-->
      <h5 class = 'card-title'>Car 1</h5>
      <p id = 'c1'><button id = 'b3'></button></p>
    </div>

  <div class="card-body">
    <!--<h5 class="card-title" id="titledraft2">0/2 Cars</h5>-->
    <h5 class = 'card-title'>Car 2</h5>
    <p id = 'c2'><button id = 'b4'></button></p>
  </div>

  </div>
  
  <!-- PAIR TWO SELECTION -->
  <div class="card">

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->
      <h5 class = 'card-title'>Driver 1</h5>
      <p id = 'd12'><button></button></p>
    </div>

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft">0/2 Drivers</h5>-->
      <h5 class = 'card-title'>Driver 2</h5>
      <p id = 'd22'><button></button></p>
    </div>

    <div class="card-body">
      <!--<h5 class="card-title" id="titledraft2">0/2 Cars</h5>-->
      <h5 class = 'card-title'>Car 1</h5>
      <p id = 'c12'><button></button></p>
    </div>

  <div class="card-body">
    <!--<h5 class="card-title" id="titledraft2">0/2 Cars</h5>-->
    <h5 class = 'card-title'>Car 2</h5>
    <p id = 'c22'><button></button></p>
  </div>

  </div>
  <div class = 'card2'>
    <p>Pair 1 Lineup/ Pair 2 Lineup</p>
    <p class = 'lineup' id = 'driver1'></p>
    <p class = 'lineup' id = "car1"></p>
    <p class = 'lineup-r' id = 'driver2'></p>
    <p class = 'lineup-r' id = 'car2'></p>
  </div>
  <div id = "cfmation" style = 'display:inline'><a href = '#' class = 'btntoproceed' id = "cfmation2">Confirm</a></div>
  <script src = "./assets/js/onValuechanges.js" type="module"></script>
  <script src="./assets/js/warRoom.js" type="module"></script>

